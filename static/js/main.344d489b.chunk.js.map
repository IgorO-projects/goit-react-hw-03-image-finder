{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loading/Loading.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/ServiceAPI/ServiceAPI.jsx","components/Loading/Loading.jsx","components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleSubmit","event","preventDefault","onSubmit","props","setState","handleChange","currentTarget","value","className","styles","searchbar","searchForm","this","type","searchForm__button","searchForm__button_label","searchForm__input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","src","alt","onClick","dataSource","imageGalleryItem","data-source","imageGalleryItem_image","ImageGallery","hits","imageGallery","map","hit","webformatURL","tags","largeImageURL","id","Button","button","fetchHits","searchQuery","currentPage","axios","get","propTypes","PropTypes","string","isRequired","Loading","loading","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleOverlay","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","App","isLoading","error","showModal","modalSrc","modalAlt","onChangeQuery","onScroll","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prevState","options","ServiceApi","then","response","data","catch","Pnotify","title","finally","onImageClick","dataset","source","prevProps","length","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.344d489b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1LEDw\",\"imageGalleryItem_image\":\"ImageGalleryItem_imageGalleryItem_image__3fufg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__20iVM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__2JaUi\"};","import { Component } from 'react';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component  {\n    state = {\n       query: '', \n    }\n\n    handleSubmit = event => {\n        event.preventDefault();\n        const { onSubmit } = this.props;\n        onSubmit(this.state.query);\n\n        this.setState({query: ''});\n    }\n\n    handleChange = event => {\n        this.setState({ query: event.currentTarget.value});\n    }\n\n    \n    render () {\n        return (\n            <header className={styles.searchbar}>\n              <form \n              className={styles.searchForm}\n              onSubmit={this.handleSubmit}>\n                <button type=\"submit\" className={styles.searchForm__button}>\n                  <span className={styles.searchForm__button_label}>Search</span>\n                </button>\n    \n                <input\n                  className={styles.searchForm__input}\n                  onChange={this.handleChange}\n                  value={this.state.query}\n                  type=\"text\"\n                  autoComplete=\"off\"\n                  autoFocus\n                  placeholder=\"Search images and photos\"\n                />\n              </form>\n            </header>\n        );\n    }\n};\n\nexport default Searchbar;","import styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ src, alt, onClick, dataSource }) => {\n    return (\n        <li className={styles.imageGalleryItem}>\n          <img \n            src={src}\n            alt={alt} \n            onClick={onClick}\n            data-source={dataSource}\n            className={styles.imageGalleryItem_image} />\n        </li>\n    );\n};\n\nImageGalleryItem.propTypes = {\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n    dataSource: PropTypes.string.isRequired,\n}\n\nexport default ImageGalleryItem;","import styles from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ hits, onClick }) => {\n    return (\n        <ul className={styles.imageGallery}>\n            {hits.map(hit => {\n                return (\n                    <ImageGalleryItem \n                    key={hit.id}\n                    src={hit.webformatURL}\n                    alt={hit.tags}\n                    onClick={onClick}\n                    dataSource={hit.largeImageURL}\n                    />\n                );\n            })}\n        </ul>\n    );\n};\n\nImageGallery.propTypes = {\n    hits: PropTypes.array.isRequired,\n    onClick: PropTypes.func.isRequired,\n}\n\nexport default ImageGallery;","import styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n    return (\n        <button \n        onClick={onClick}\n        className={styles.button}\n        type=\"button\"> \n            Load more\n        </button>\n    )\n}\n\nButton.propTypes ={ \n    onClick: PropTypes.func.isRequired,\n}\n\nexport default Button;","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '20714819-0852724b96f75a6ed867164b1';\n\nconst fetchHits = ({ searchQuery, currentPage }) => {\n    return (\n        axios\n        .get(`${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n    );\n};\nfetchHits.propTypes = {\n    searchQuery: PropTypes.string.isRequired,\n    currentPage: PropTypes.string.isRequired,\n}\n\nexport default { fetchHits };","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport styles from './Loading.module.css';\n\nconst Loading = () => {\n    return(\n        <div className={styles.loading}>\n            <Loader \n            type=\"Grid\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            />\n        </div>\n    )\n}\n\nexport default Loading;","import { Component } from \"react\";\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\n\nclass Modal extends Component {\n\n    handleKeyDown = event => {\n\n        if(event.code === 'Escape') {\n            this.props.onClose();\n        }\n    }\n    handleOverlay = event => {\n\n        if(event.target ===event.currentTarget) {\n            this.props.onClose()\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyDown)\n    }\n\n\n    render () {\n        return createPortal(\n        <div\n        onClick={this.handleOverlay} \n        className={styles.overlay}>\n          <div className={styles.modal}>\n            <img src={this.props.src} alt={this.props.alt} />\n          </div>\n        </div>, modalRoot) \n    }\n}\n\nexport default Modal;","import './App.css';\nimport { Component } from 'react';\nimport SearchBar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport ServiceApi from './components/ServiceAPI';\nimport Loading from './components/Loading';\nimport Modal from './components/Modal';\nimport Pnotify from '../node_modules/pnotify/dist/es/PNotify';\nimport '../node_modules/pnotify/dist/PNotifyBrightTheme.css';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    searchQuery: '',\n    currentPage: 1,\n    isLoading: false,\n    error: null,\n    showModal: false,\n    modalSrc: '',\n    modalAlt: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if(prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchHits();\n    }\n  }\n\n  onChangeQuery = query => {\n    // this.setState({ searchQuery: query }, this.fetchHits());\n    this.setState({ \n      hits: [],\n      searchQuery: query,\n      currentPage: 1,\n      error: null,\n     });\n  }\n\n  onScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }))\n  }\n\n  fetchHits = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    ServiceApi.fetchHits(options)\n    .then(response => {\n      this.setState(prevState => ({\n        hits: [...prevState.hits, ...response.data.hits],\n        currentPage: prevState.currentPage + 1,\n      }));\n      \n      this.onScroll();\n    })\n    .catch(()=> Pnotify.error({title: 'something went wrong :('}))\n    .finally(()=> this.setState({ isLoading: false }));\n  }\n\n  onImageClick = (event) => {\n    this.setState({ \n      modalSrc: event.target.dataset.source,\n      modalAlt: event.target.alt,\n      showModal: true\n    });\n  }\n  render() {\n    const { hits, isLoading, showModal, modalSrc, modalAlt } = this.state;\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.onChangeQuery}/>\n        <ImageGallery \n        hits={hits}\n        onClick={this.onImageClick} />\n        {isLoading && <Loading />}\n        {hits.length !== 0 && !isLoading && (<Button onClick={this.fetchHits}/>)}\n        {showModal && <Modal \n        src={modalSrc}\n        alt={modalAlt}\n        onClose={this.toggleModal}/>}\n    </div>\n    );\n  };\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"searchForm\":\"Searchbar_searchForm__23jwf\",\"searchForm__button\":\"Searchbar_searchForm__button__Hckx5\",\"searchForm__button_label\":\"Searchbar_searchForm__button_label__19Jyg\",\"searchForm__input\":\"Searchbar_searchForm__input__YweIZ\"};"],"sourceRoot":""}